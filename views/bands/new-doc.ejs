<div class="container-fluid py-4">
  <!-- Header -->
  <div class="row mb-4">
    <div class="col-12">
      <div class="d-flex justify-content-between align-items-center">
        <div>
          <h1><i class="bi bi-file-earmark-text"></i> Add a Doc</h1>
          <p class="text-muted mb-0">
            Upload a formatted Google Doc with your songs. You can choose to
            create a setlist with them or just add them to your library.
          </p>
        </div>
      </div>
    </div>
  </div>

  <!-- Main form -->
  <div class="row justify-content-center">
    <div class="col-lg-8">
      <div class="card">
        <div class="card-body">
          <form method="POST" action="/bands/<%= band.id %>/new-doc">
            <!-- Radio buttons for list type -->
            <div class="mb-4">
              <div class="form-check mb-3">
                <input
                  class="form-check-input"
                  type="radio"
                  name="listType"
                  id="setlist"
                  value="setlist"
                  checked
                />
                <label class="form-check-label" for="setlist">
                  <strong>Add to Set List and to the Band's Repertoire</strong>
                </label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="listType"
                  id="repertoire"
                  value="repertoire"
                />
                <label class="form-check-label" for="repertoire">
                  <strong>Just add these to the Band's Repertoire</strong>
                </label>
              </div>
            </div>

            <!-- Google Doc URL input -->
            <div class="mb-4">
              <label for="googleDocUrl" class="form-label fw-bold"
                >Google Doc URL</label
              >
              <input
                type="url"
                class="form-control"
                id="googleDocUrl"
                name="googleDocUrl"
                placeholder="https://docs.google.com/document/d/..."
                required
              />
              <div class="form-text">
                Paste the shareable link to your Google Doc. Make sure the
                document is set to "Anyone with the link can view".
              </div>
            </div>

            <!-- Submit button -->
            <div class="d-grid">
              <button type="submit" class="btn btn-primary btn-lg">
                <i class="bi bi-upload"></i> Process Google Doc
              </button>
            </div>
          </form>
        </div>
      </div>

      <!-- Instructions -->
      <div class="card mt-4">
        <div class="card-header">
          <h5 class="mb-0">
            <i class="bi bi-info-circle"></i> How to Format Your Google Doc
          </h5>
        </div>
        <div class="card-body">
          <p class="mb-3">
            To get the best results, format your Google Doc like this:
          </p>
          <ul class="mb-3">
            <li><strong>Use page breaks</strong> to separate each song</li>
            <li><strong>Put the song title</strong> at the top of each page</li>
            <li>
              <strong>Include chords, lyrics, and notes</strong> below the title
            </li>
            <li>
              <strong>Add artist names</strong> after song titles (optional)
            </li>
          </ul>
          <div class="alert alert-info mb-0">
            <i class="bi bi-lightbulb"></i>
            <strong>Tip:</strong> Songs added here can later be added to any of
            the band's sets.
            <a
              href="/legal/google-doc-formatting"
              target="_blank"
              class="alert-link"
              >See detailed formatting guide</a
            >
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
  // Update placeholder text based on radio button selection
  document.addEventListener("DOMContentLoaded", function () {
    const setlistRadio = document.getElementById("setlist");
    const repertoireRadio = document.getElementById("repertoire");
    const urlInput = document.getElementById("googleDocUrl");

    function updatePlaceholder() {
      if (setlistRadio.checked) {
        urlInput.placeholder =
          "https://docs.google.com/document/d/... (will create a setlist)";
      } else {
        urlInput.placeholder =
          "https://docs.google.com/document/d/... (will add to repertoire only)";
      }
    }

    setlistRadio.addEventListener("change", updatePlaceholder);
    repertoireRadio.addEventListener("change", updatePlaceholder);

    // Set initial placeholder
    updatePlaceholder();
  });
</script>
